"use strict";(self.webpackChunkfoodlist=self.webpackChunkfoodlist||[]).push([[376],{7376:function(e,t,n){n.r(t),n.d(t,{FoodContext:function(){return T},default:function(){return j}});var a=n(9439),u=n(7313),s=n(6417),m=function(e){var t=e.isBucket,n=e.setIsBucket;return(0,s.jsxs)("div",{className:"sm-container",children:[(0,s.jsx)("div",{className:"sm-button-hover ".concat(t?"right":"left")}),(0,s.jsx)("button",{className:"sm-button first ",onClick:function(){return n(!1)},children:"\u0421\u043f\u0438\u0441\u043e\u043a"}),(0,s.jsx)("button",{className:"sm-button last",onClick:function(){return n(!0)},children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"})]})},r=["\u0448\u0442.","\u043a\u0433","\u0443\u043f.","\u043b"],c={"\u041e\u0432\u043e\u0449\u0438":[{name:"\u041f\u043e\u043c\u0438\u0434\u043e\u0440\u044b",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u041e\u0433\u0443\u0440\u0446\u044b",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u041c\u043e\u0440\u043a\u043e\u0432\u044c",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u041b\u0443\u043a \u0440\u0435\u043f\u0447\u0430\u0442\u044b\u0439",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u041a\u0430\u0440\u0442\u043e\u0448\u043a\u0430",inBucket:!1,measurementType:"\u043a\u0433",amount:1,step:1},{name:"\u0427\u0435\u0441\u043d\u043e\u043a",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u0411\u0430\u043d\u0430\u043d\u044b",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1}],"\u0411\u0430\u043a\u0430\u043b\u0435\u044f":[{name:"\u041f\u0448\u0435\u043d\u043e",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u0413\u0435\u0440\u043a\u0443\u043b\u0435\u0441",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u041c\u0430\u043a\u0430\u0440\u043e\u043d\u044b",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u0413\u0440\u0435\u0447\u043a\u0430",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u0420\u0438\u0441",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u041a\u0430\u0448\u0438",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u0420\u0430\u043c\u0435\u043d",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u041d\u0435\u043c\u043e\u043b\u043e\u043a\u043e",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u041c\u044e\u0441\u043b\u0438",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1}],"\u041a\u043e\u043d\u0441\u0435\u0440\u0432\u044b, \u0441\u043e\u0443\u0441\u044b \u0438 \u043f\u0440.":[{name:"\u041a\u0435\u0442\u0447\u0443\u043f",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u041c\u0430\u0439\u043e\u043d\u0435\u0437",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u0424\u0430\u0441\u043e\u043b\u044c",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u041c\u0430\u0441\u043b\u043e \u043f\u043e\u0434\u0441\u043e\u043b\u043d\u0435\u0447\u043d\u043e\u0435",inBucket:!1,measurementType:"\u043b",amount:1,step:1}],"\u0425\u043b\u0435\u0431\u043e\u0431\u0443\u043b\u043e\u0447\u043d\u044b\u0435 \u0438 \u043a \u0447\u0430\u044e":[{name:"\u0425\u043b\u0435\u0431 \u0431\u0435\u043b\u044b\u0439",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u0425\u043b\u0435\u0431 \u0440\u0436\u0430\u043d\u043e\u0439",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u0425\u043b\u0435\u0431 \u0447\u0435\u0440\u043d\u044b\u0439",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u0427\u0430\u0439",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1}],"\u041c\u043e\u043b\u043e\u0447\u043a\u0430":[{name:"\u0419\u043e\u0433\u0443\u0440\u0442\u044b",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u0422\u0432\u043e\u0440\u043e\u0433",inBucket:!1,measurementType:"\u043a\u0433",amount:.3,step:1},{name:"\u041c\u0430\u0441\u043b\u043e \u0441\u043b\u0438\u0432.",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u041c\u0430\u0441\u043b\u043e \u0448\u043e\u043a\u043e\u043b.",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u0420\u044f\u0436\u0435\u043d\u043a\u0430",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u0421\u043c\u0435\u0442\u0430\u043d\u0430",inBucket:!1,measurementType:"\u043a\u0433",amount:.2,step:.1},{name:"\u0421\u044b\u0440 \u043f\u043b\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u0421\u044b\u0440 \u0441\u043b\u0430\u0434\u043a\u0438\u0439",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u042f\u0439\u0446\u0430",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1}],"\u0414\u0435\u043b\u0438\u043a\u0430\u0442\u0435\u0441\u044b":[{name:"\u0421\u0430\u043b\u043e",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u0412\u0435\u0442\u0447\u0438\u043d\u0430",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u0421\u044b\u0440 \u0442\u0432\u0435\u0440\u0434\u044b\u0439",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u0421\u043e\u0441\u0438\u0441\u043a\u0438",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u041a\u0443\u0440\u0438\u0446\u0430 \u0434\u043b\u044f \u0441\u0443\u043f\u0430",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1}],"\u0411\u044b\u0442\u043e\u0432\u0443\u0445\u0430":[{name:"\u041c\u044b\u043b\u043e",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u0416\u0438\u0434\u043a\u043e\u0435 \u043c\u044b\u043b\u043e",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u0413\u0435\u043b\u044c \u0434\u043b\u044f \u0434\u0443\u0448\u0430",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u0428\u0430\u043c\u043f\u0443\u043d\u044c",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u0411\u0430\u043b\u044c\u0437\u0430\u043c",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u0417\u0443\u0431\u043d\u0430\u044f \u043f\u0430\u0441\u0442\u0430",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u041f\u043e\u0440\u043e\u0448\u043e\u043a \u0441\u0442\u0438\u0440.",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u041e\u043f\u043e\u043b\u0430\u0441\u043a\u0438\u0432\u0430\u0442\u0435\u043b\u044c",inBucket:!1,measurementType:"\u0448\u0442.",amount:1,step:1},{name:"\u0413\u0443\u0431\u043a\u0438",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u0422\u0440\u044f\u043f\u043a\u0438",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u0411\u0443\u043c. \u043f\u043e\u043b\u043e\u0442\u0435\u043d\u0446\u0430",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u0422\u0443\u0430\u043b. \u0431\u0443\u043c\u0430\u0433\u0430",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1}],"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430":[{name:"\u041f\u0435\u043b\u044c\u043c\u0435\u043d\u0438",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u0412\u0430\u0440\u0435\u043d\u0438\u043a\u0438",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u0411\u043b\u0438\u043d\u044b",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1},{name:"\u041d\u0430\u0433\u0433\u0435\u0442\u0441\u044b",inBucket:!1,measurementType:"\u0443\u043f.",amount:1,step:1}],"\u0414\u0440\u0443\u0433\u043e\u0435":[]},i=n(4942);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=n(3433),d=function(e,t,n,a,u){a((function(a){var s=JSON.parse(JSON.stringify(a));return"\u0414\u0440\u0443\u0433\u043e\u0435"===e&&"addToBucket"===n?(s["\u0414\u0440\u0443\u0433\u043e\u0435"]=u?[].concat((0,l.Z)(s["\u0414\u0440\u0443\u0433\u043e\u0435"]),[{name:t,inBucket:u,measurementType:"\u0448\u0442.",amount:1,step:1}]):s["\u0414\u0440\u0443\u0433\u043e\u0435"].filter((function(e){return e.name!==t})),s):s=p(p({},s),{},(0,i.Z)({},e,s[e].map((function(a){if(a.name!==t)return a;switch(n){case"addToBucket":if("\u0414\u0440\u0443\u0433\u043e\u0435"===e&&!1===u)return;return p(p({},a),{},{inBucket:u});case"increment":case"decrement":return p(p({},a),{},{amount:f(n,a.amount,a.step)});case"measurementType":return p(p({},a),{},{measurementType:u});case"amount":return p(p({},a),{},{amount:u});default:return a}}))))}))},f=function(e,t,n){var a=isNaN(t)?n:+t,u=a;switch(e){case"increment":u=a+n;break;case"decrement":u=t-n}return u>20?u=20:u<=0&&(u=n),parseFloat(u.toFixed(2))},y=function(e){var t=e.good,n=e.category,a=(0,u.useContext)(T).setFoodList,m=t.name,c=t.measurementType,i=t.amount,o=t.step,p=function(e){switch(e){case"increment":return void(i<20&&d(n,m,"increment",a));case"decrement":return void(i>o&&d(n,m,"decrement",a));default:return}};return(0,s.jsx)("div",{className:"ga-container",children:(0,s.jsxs)("div",{className:"ga-amount",children:[(0,s.jsx)("button",{className:"ga-amount-dec",onClick:function(){return p("decrement")},children:(0,s.jsx)("i",{className:"fa-solid fa-minus"})}),(0,s.jsxs)("div",{className:"ga-measurement",children:[(0,s.jsx)("input",{type:"text",value:i,onChange:function(e){e.target.value.match(/^[1-9]{0,1}[0-9]{0,1}\.{0,1}\d{0,2}$/)&&d(n,m,"amount",a,e.target.value)}}),(0,s.jsx)("select",{value:c,onChange:function(e){return d(n,m,"measurementType",a,e.target.value)},children:r.map((function(e){return(0,s.jsx)("option",{value:e,children:e},e)}))})]}),(0,s.jsx)("button",{className:"ga-amount-inc",onClick:function(){return p("increment")},children:(0,s.jsx)("i",{className:"fa-solid fa-plus"})})]})})},k=function(e){var t=e.good,n=e.category,a=(0,u.useContext)(T).setFoodList,m=t.name,r=t.inBucket;return(0,s.jsxs)("div",{className:"fi-container ".concat(r&&"in-bucket"),children:[(0,s.jsxs)("div",{className:"fi-header",children:[(0,s.jsx)("span",{onClick:function(){return d(n,m,"addToBucket",a,!r)},children:m}),(0,s.jsx)("i",{className:"fa-solid fa-basket-shopping",style:r?{color:"#11dd11"}:{},onClick:function(){return d(n,m,"addToBucket",a,!r)}})]}),r&&(0,s.jsx)("div",{className:"fi-adjust",children:(0,s.jsx)(y,{good:t,category:n})})]})},B=function(e){var t=e.type,n=(0,u.useContext)(T).foodList,m=(0,u.useMemo)((function(){if(n)return"store"===t?Object.entries(n).filter((function(e){var t=(0,a.Z)(e,2),n=t[0];t[1];return"\u0414\u0440\u0443\u0433\u043e\u0435"!==n})):Object.entries(n).map((function(e){var t=(0,a.Z)(e,2),n=t[0],u=t[1].filter((function(e){return!0===e.inBucket}));return 0===u.length?null:[n,u]})).filter((function(e){return null!==e}))}),[n,t]);return(0,s.jsx)("div",{className:"fl-container",children:m&&m.map((function(e){var t=(0,a.Z)(e,2),n=t[0],u=t[1];return(0,s.jsxs)("div",{className:"fl-category-container",children:[(0,s.jsx)("div",{className:"fl-category-header",children:n}),(0,s.jsx)("div",{className:"fl-good-container",children:u.map((function(e){return(0,s.jsx)(k,{good:e,category:n},e.name)}))})]},n)}))})},T=(0,u.createContext)(null),j=function(){var e=(0,u.useState)(!1),t=(0,a.Z)(e,2),n=t[0],r=t[1],i=(0,u.useState)(""),o=(0,a.Z)(i,2),p=o[0],l=o[1],f=(0,u.useState)(c),y=(0,a.Z)(f,2),k=y[0],j=y[1];return(0,u.useEffect)((function(){var e=localStorage.getItem("food");if(null!==e){var t=JSON.parse(e);j(t)}}),[]),(0,u.useEffect)((function(){var e=setTimeout((function(){return localStorage.setItem("food",JSON.stringify(k))}),200);return function(){clearTimeout(e)}}),[k]),(0,s.jsxs)("div",{className:"sl-container",children:[(0,s.jsx)("div",{className:"sl-header",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043a\u0443\u043f\u043e\u043a"}),(0,s.jsx)("div",{className:"sl-header-search",children:(0,s.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),p&&(d("\u0414\u0440\u0443\u0433\u043e\u0435",p,"addToBucket",j,!0),l(""))}(e)},className:"sl-add-new",children:[(0,s.jsx)("input",{type:"text",placeholder:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0442\u043e\u0432\u0430\u0440 \u0438\u043b\u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u043d\u0438\u0436\u0435",onChange:function(e){return l(e.target.value)},value:p}),(0,s.jsx)("button",{type:"submit",children:(0,s.jsx)("i",{className:"fa-solid fa-plus"})}),(0,s.jsx)("button",{onClick:function(){return j(c)},children:(0,s.jsx)("i",{className:"fa-solid fa-rotate-right"})})]})}),(0,s.jsxs)(T.Provider,{value:{foodList:k,setFoodList:j},children:[(0,s.jsx)(m,{isBucket:n,setIsBucket:r}),(0,s.jsx)("div",{className:"app-content",children:n?(0,s.jsx)(B,{type:"bucket"}):(0,s.jsx)(B,{type:"store"})})]})]})}},4942:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(9142);function u(e,t,n){return(t=(0,a.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}}}]);